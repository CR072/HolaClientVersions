function _0x3089(_0x2f6faa,_0x1c91d8){const _0x47df91=_0x47df();return _0x3089=function(_0x3089f9,_0x47806){_0x3089f9=_0x3089f9-0x8e;let _0x112b4e=_0x47df91[_0x3089f9];return _0x112b4e;},_0x3089(_0x2f6faa,_0x1c91d8);}const _0xdd32ca=_0x3089;(function(_0x16f42f,_0x4ac992){const _0x59baed=_0x3089,_0x3fc71c=_0x16f42f();while(!![]){try{const _0x30d48f=-parseInt(_0x59baed(0xa3))/0x1+parseInt(_0x59baed(0xbb))/0x2+-parseInt(_0x59baed(0xa2))/0x3+parseInt(_0x59baed(0xb0))/0x4+parseInt(_0x59baed(0xa0))/0x5+-parseInt(_0x59baed(0xac))/0x6*(parseInt(_0x59baed(0xb3))/0x7)+-parseInt(_0x59baed(0xbc))/0x8*(-parseInt(_0x59baed(0xaf))/0x9);if(_0x30d48f===_0x4ac992)break;else _0x3fc71c['push'](_0x3fc71c['shift']());}catch(_0x2ef2d){_0x3fc71c['push'](_0x3fc71c['shift']());}}}(_0x47df,0xda17c));const fetch=(..._0x44290c)=>import(_0xdd32ca(0x8f))[_0xdd32ca(0xbd)](({default:_0x1db579})=>_0x1db579(..._0x44290c)),WebSocket=require('ws'),{EventEmitter}=require(_0xdd32ca(0xab));function _0x47df(){const _0x5e5b89=['server_no','7147935haFmft','writeCommand','5025240ZVIYIc','1215355cYTcic','parse','get_new_login','Couldn\x27t\x20connect\x20-\x20server\x20didn\x27t\x20provide\x20credentials.','data','start','writePower','startsWith','events','423462oLYJTg','auth','websocket','522REsCJi','2179324bEvmzS','message','apiRequest','49ajQkpU','connect','GET','Connection\x20closed\x20by\x20user','/api/client/servers/','send\x20command','error','Bearer\x20','487684xFPrle','284072iRRKwy','then','json','node-fetch','stats','origin','body','exports','api_key','utf8','replace','application/json','write','token\x20expiring','set\x20state','open','close','toString','emit'];_0x47df=function(){return _0x5e5b89;};return _0x47df();}class consolesocket extends EventEmitter{constructor(_0x3e91bf,_0x2c8753,_0x20051f,_0x1a8dbc=!![]){const _0x55e49f=_0xdd32ca;super(),this[_0x55e49f(0x91)]=_0x3e91bf,this[_0x55e49f(0x94)]=_0x2c8753,this[_0x55e49f(0x9f)]=_0x20051f;if(_0x1a8dbc)this[_0x55e49f(0xb4)]();}async[_0xdd32ca(0xb2)](_0x2b4180,_0x22fefe='',_0x28d5e2=_0xdd32ca(0xb5)){const _0x336df2=_0xdd32ca,_0x50eece={'method':_0x28d5e2,'headers':{'Accept':'application/json','Content-Type':_0x336df2(0x97),'Authorization':_0x336df2(0xba)+this[_0x336df2(0x94)]}};if(_0x22fefe)_0x50eece[_0x336df2(0x92)]=_0x22fefe;const _0xcee173=await fetch(this['origin']+_0x336df2(0xb7)+this['server_no']+'/'+_0x2b4180,_0x50eece)[_0x336df2(0xbd)](_0x40a66b=>{const _0x354bb1=_0x336df2;return _0x40a66b[_0x354bb1(0x8e)]();});return _0xcee173;}async[_0xdd32ca(0xa5)](){const _0x5a7425=_0xdd32ca,_0x49b2fc=await this[_0x5a7425(0xb2)](_0x5a7425(0xae));if(_0x5a7425(0xa7)in _0x49b2fc)return _0x49b2fc[_0x5a7425(0xa7)];}async #authLogin(_0x42a5e0=''){const _0x56d7cf=_0xdd32ca;if(_0x42a5e0)this[_0x56d7cf(0x98)]({'event':'auth','args':[_0x42a5e0]});else{const _0x3c2e75=await this[_0x56d7cf(0xa5)]();if(!_0x3c2e75)throw _0x56d7cf(0xa6);const {token:_0x24b7bd}=_0x3c2e75;this[_0x56d7cf(0x98)]({'event':_0x56d7cf(0xad),'args':[_0x24b7bd]});}}async #readPacket(_0x57e8ab){const _0x16e530=_0xdd32ca,{event:_0x217683,args:_0x1a0892}=JSON[_0x16e530(0xa4)](_0x57e8ab[_0x16e530(0x9d)](_0x16e530(0x95)));switch(_0x217683){case _0x16e530(0x90):if(_0x1a0892[0x0][_0x16e530(0xaa)]('{'))this[_0x16e530(0x9e)]('stats',JSON[_0x16e530(0xa4)](_0x1a0892[0x0]));break;case _0x16e530(0x99):this.#authLogin(),this[_0x16e530(0x9e)](_0x217683['replace']('\x20','_'));break;default:if(_0x1a0892)this[_0x16e530(0x9e)](_0x217683[_0x16e530(0x96)]('\x20','_'),_0x1a0892[0x0]);else this[_0x16e530(0x9e)](_0x217683[_0x16e530(0x96)]('\x20','_'));}}async[_0xdd32ca(0xb4)](){const _0x26b3e3=_0xdd32ca,_0x4223bd=await this[_0x26b3e3(0xa5)]();if(!_0x4223bd)throw'Couldn\x27t\x20connect\x20-\x20server\x20didn\x27t\x20provide\x20credentials.';this['ws']&&this[_0x26b3e3(0x9c)]();const {token:_0x30c2f1,socket:_0x253469}=_0x4223bd;this['ws']=new WebSocket(_0x253469,{'origin':this['origin']}),this['ws']['on'](_0x26b3e3(0x9b),()=>{const _0x1ed4d2=_0x26b3e3;this.#authLogin(_0x30c2f1),this[_0x1ed4d2(0x9e)](_0x1ed4d2(0xa8));}),this['ws']['on'](_0x26b3e3(0xb1),_0xe4ff34=>{this.#readPacket(_0xe4ff34);}),this['ws']['on'](_0x26b3e3(0xb9),_0x68a8f5=>{const _0x40f75f=_0x26b3e3;this[_0x40f75f(0x9e)]('error',_0x68a8f5);}),this['ws']['on'](_0x26b3e3(0x9c),_0x4c878a=>{const _0x180620=_0x26b3e3;this['emit'](_0x180620(0x9c),_0x4c878a),this['ws']=undefined;});}[_0xdd32ca(0x9c)](){const _0x5d2fce=_0xdd32ca;this['ws']['close'](),this['ws']=undefined,this['emit'](_0x5d2fce(0x9c),_0x5d2fce(0xb6));}['write'](_0x2fd4b5){this['ws']['send'](JSON['stringify'](_0x2fd4b5));}[_0xdd32ca(0xa1)](_0x3dd13a){const _0x4a8fd8=_0xdd32ca;this['write']({'event':_0x4a8fd8(0xb8),'args':[_0x3dd13a]});}[_0xdd32ca(0xa9)](_0x2b489c){const _0x414f46=_0xdd32ca;this[_0x414f46(0x98)]({'event':_0x414f46(0x9a),'args':[_0x2b489c]});}}module[_0xdd32ca(0x93)]={'consolesocket':consolesocket};